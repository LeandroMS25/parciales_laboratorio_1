/*
 ============================================================================
 Name        : Parcial_labo_1.c
 Author      : Leandro Sobrino
 Description : Primer parcial - Laboratorio 1.
 ============================================================================
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "Aviso.h"
#include "Cliente.h"
#include "validaciones.h"

int main(void)
{
	setbuf(stdout,NULL);
	Cliente listCliente[QTY_CLI];
	Aviso listAviso[QTY_AVI];
	int opcion;

	cli_init(listCliente, QTY_CLI);
	avi_init(listAviso, QTY_AVI);
	do
	{
		utn_getNumberInt(&opcion, "***Menu de opciones***\n\n"
								  "1- Alta del cliente.\n"
								  "2- Modificar datos del cliente.\n"
								  "3- Baja del cliente.\n"
								  "4- Publicar aviso.\n"
								  "5- Pausar aviso.\n"
								  "6- Reanudar aviso.\n"
				 	 	 	 	  "7- Imprimir listado de clientes.\n"
								  "8- Informar.\n"
								  "9- Salir.\n\n"
								  "Ingrese la opcion: ", "Opcion ingresada invalida.\n", 1, OPTIONS, 2);
		switch (opcion)
		{
			case 1:
				if(cli_add(listCliente, QTY_CLI) == 0)
				{
					printf("El cliente se cargo correctamente.\n");
				}
				break;
			case 2:
				if(cli_modify(listCliente, QTY_CLI) == 0)
				{
					printf("El cliente se modifico correctamente.\n");
				}
				break;
			case 3:
				if(avi_add(listAviso, QTY_AVI, listCliente, QTY_CLI) == 0)
				{
					printf("El aviso se publico correctamente.\n");
				}
				break;
			case 4:
				if(avi_changeState(listAviso, QTY_AVI, listCliente, QTY_CLI, ACTIVO) == 0)
				{
					printf("El aviso se reanudo correctamente.\n");
				}
				break;
			case 5:
				if(avi_changeState(listAviso, QTY_AVI, listCliente, QTY_CLI, PAUSADO) == 0)
				{
					printf("El aviso se pauso correctamente.\n");
				}
				break;
		}
	}while(opcion != OPTIONS);
}
